// ==================== VDO TRAINING MODULE ====================

// VDO Training Data
const vdoTrainingData = {
    math: [
        {
            id: 'math-1',
            title: '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Å‡∏°',
            youtubeId: 'dQw4w9WgXcQ',
            description: '‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°',
            duration: '15 ‡∏ô‡∏≤‡∏ó‡∏µ',
            quiz: [
                {
                    question: '‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Å‡∏°?',
                    options: [
                        '‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ô‡∏∏‡∏Å‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°',
                        '‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏≥‡∏™‡∏π‡∏ï‡∏£‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô',
                        '‡∏Ñ‡∏£‡∏π‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô',
                        '‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô'
                    ],
                    correct: 0
                },
                {
                    question: '‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÉ‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏ß‡∏Å‡πÄ‡∏•‡∏Ç?',
                    options: [
                        '‡πÄ‡∏Å‡∏°‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô',
                        '‡πÄ‡∏Å‡∏°‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå',
                        '‡πÄ‡∏Å‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á',
                        '‡πÄ‡∏Å‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î'
                    ],
                    correct: 1
                },
                {
                    question: '‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?',
                    options: [
                        '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à',
                        '‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏•‡πà‡∏ô',
                        '‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô',
                        '‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å'
                    ],
                    correct: 1
                }
            ]
        },
        {
            id: 'math-2',
            title: '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏î‡πâ‡∏ß‡∏¢ Visual Thinking',
            youtubeId: 'example-id-2',
            description: '‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
            duration: '20 ‡∏ô‡∏≤‡∏ó‡∏µ',
            quiz: [
                {
                    question: 'Visual Thinking ‡∏ä‡πà‡∏ß‡∏¢‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÉ‡∏î?',
                    options: [
                        '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏ô‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°',
                        '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏π‡∏õ‡∏ò‡∏£‡∏£‡∏°',
                        '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå',
                        '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå'
                    ],
                    correct: 0
                }
            ]
        }
    ],
    science: [
        {
            id: 'science-1',
            title: '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢ (Simple Machines)"',
            youtubeId: 'PB38VWJponY',
            description: '‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ä‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
            duration: '20 ‡∏ô‡∏≤‡∏ó‡∏µ',
            quiz: [
                {
                    question: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó?',
                    options: ['3', '5', '6', '7'],
                    correct: 2
                },
                {
                    question: '‡∏•‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏•‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡πÅ‡∏£‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏ó‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?',
                    options: [
                        '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™',
                        '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏£‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏ó‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡∏¥‡πâ‡∏á',
                        '‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏',
                        '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß'
                    ],
                    correct: 1
                },
                {
                    question: '‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢?',
                    options: ['‡∏Ñ‡∏≤‡∏ô', '‡∏•‡∏¥‡πà‡∏°', '‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô', '‡∏£‡∏≠‡∏Å'],
                    correct: 2
                },
                {
                    question: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÉ‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏?',
                    options: ['‡∏Ñ‡∏≤‡∏ô', '‡∏•‡∏¥‡πà‡∏°', '‡∏™‡∏Å‡∏£‡∏π', '‡∏£‡∏≠‡∏Å'],
                    correct: 1
                }
            ]
        },
        {
            id: 'science-2',
            title: '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô "‡∏ä‡∏∏‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏•‡∏ô‡∏™‡πå (Geometric Optics Kit)"',
            youtubeId: 'G_hwj0mUlow',
            description: '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏ô‡∏™‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∏‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå Geometric Optics',
            duration: '18 ‡∏ô‡∏≤‡∏ó‡∏µ',
            quiz: [
                {
                    question: '‡πÄ‡∏•‡∏ô‡∏™‡πå‡∏ô‡∏π‡∏ô‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?',
                    options: [
                        '‡∏£‡∏ß‡∏°‡πÅ‡∏™‡∏á',
                        '‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÅ‡∏™‡∏á',
                        '‡∏î‡∏π‡∏î‡∏Å‡∏•‡∏∑‡∏ô‡πÅ‡∏™‡∏á',
                        '‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á'
                    ],
                    correct: 0
                },
                {
                    question: '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏á‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏•‡∏ô‡∏™‡πå‡πÄ‡∏ß‡πâ‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏î?',
                    options: [
                        '‡∏´‡∏±‡∏Å‡πÄ‡∏´‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡πÅ‡∏Å‡∏ô‡∏´‡∏•‡∏±‡∏Å',
                        '‡∏´‡∏±‡∏Å‡πÄ‡∏´‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡∏ô‡∏´‡∏•‡∏±‡∏Å',
                        '‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö',
                        '‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°'
                    ],
                    correct: 1
                }
            ]
        },
        {
            id: 'science-3',
            title: '‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á "‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏°‡∏π‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏î (Blood Test)"',
            youtubeId: 'fEXn8ux884c',
            description: '‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏π‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á',
            duration: '25 ‡∏ô‡∏≤‡∏ó‡∏µ',
            quiz: [
                {
                    question: '‡∏´‡∏°‡∏π‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏î AB ‡∏°‡∏µ‡πÅ‡∏≠‡∏ô‡∏ï‡∏¥‡πÄ‡∏à‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?',
                    options: [
                        'A ‡πÅ‡∏•‡∏∞ B',
                        'A ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô',
                        'B ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô',
                        '‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏≠‡∏ô‡∏ï‡∏¥‡πÄ‡∏à‡∏ô'
                    ],
                    correct: 0
                },
                {
                    question: '‡∏Ñ‡∏ô‡∏´‡∏°‡∏π‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏î O ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏à‡∏≤‡∏Å‡∏´‡∏°‡∏π‡πà‡πÉ‡∏î‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á?',
                    options: [
                        'O ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô',
                        'A ‡πÅ‡∏•‡∏∞ B',
                        'AB ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô',
                        '‡∏ó‡∏∏‡∏´‡∏°‡∏π‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏î'
                    ],
                    correct: 0
                }
            ]
        },
        {
            id: 'science-4',
            title: '‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á "‡πÅ‡∏£‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏ó‡∏≤‡∏ô (Friction Force)"',
            youtubeId: 'VUPlI5-4wto',
            description: '‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏£‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏ó‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á',
            duration: '22 ‡∏ô‡∏≤‡∏ó‡∏µ',
            quiz: [
                {
                    question: '‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÉ‡∏î‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡πÅ‡∏£‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏ó‡∏≤‡∏ô?',
                    options: [
                        '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏',
                        '‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏ß‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™',
                        '‡∏ú‡∏¥‡∏ß‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏™‡∏î‡∏∏',
                        '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏'
                    ],
                    correct: 1
                },
                {
                    question: '‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏î‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡πÅ‡∏£‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏ó‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?',
                    options: [
                        '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å',
                        '‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏£‡∏´‡∏•‡πà‡∏≠‡∏•‡∏∑‡πà‡∏ô',
                        '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏ß',
                        '‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß'
                    ],
                    correct: 1
                }
            ]
        }
    ]
};

// VDO Training State
let currentVideoCategory = 'math';
let selectedVideo = null;
let quizAnswers = [];
let quizScore = 0;
let isQuizSubmitted = false;

// Initialize VDO Training Module
function initVdoTraining() {
    // Load event listeners for VDO training buttons
    document.addEventListener('click', function(e) {
        if (e.target && e.target.closest && e.target.closest('[data-vdo-training]')) {
            showVdoTraining();
        }
    });
    
    // Generate initial video list
    if (document.getElementById('video-list-container')) {
        loadVideoList('math');
    }
}

// Show VDO Training Modal
function showVdoTraining() {
    const modal = document.getElementById('vdo-training-modal');
    if (!modal) {
        console.error('VDO Training modal not found');
        return;
    }
    
    modal.classList.remove('hide');
    modal.querySelector('.modal-slide-up').classList.add('modal-slide-up');
    loadVideoList('math');
    
    // Reset state
    resetQuiz();
    
    // Refresh icons
    setTimeout(() => {
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    }, 100);
}

// Close VDO Training
function closeVdoTraining() {
    const modal = document.getElementById('vdo-training-modal');
    if (!modal) return;
    
    modal.querySelector('.modal-slide-up').classList.add('modal-slide-down');
    setTimeout(() => {
        modal.classList.add('hide');
        modal.querySelector('.modal-slide-up').classList.remove('modal-slide-down');
        resetQuiz();
    }, 400);
}

// Switch Video Category
function switchVideoCategory(category) {
    currentVideoCategory = category;
    
    // Update tabs
    document.querySelectorAll('.video-category-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    
    if (category === 'math') {
        const mathTab = document.getElementById('tab-math');
        if (mathTab) mathTab.classList.add('active');
    } else {
        const scienceTab = document.getElementById('tab-science');
        if (scienceTab) scienceTab.classList.add('active');
    }
    
    loadVideoList(category);
}

// Load Video List
function loadVideoList(category) {
    const container = document.getElementById('video-list-container');
    if (!container) return;
    
    const videos = vdoTrainingData[category] || [];
    
    let html = '<div class="grid grid-cols-1 md:grid-cols-2 gap-6">';
    
    if (videos.length === 0) {
        html = `
            <div class="text-center py-10">
                <div class="w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="video-off" class="w-8 h-8 text-slate-400"></i>
                </div>
                <h4 class="font-bold text-lg text-slate-700 mb-2">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ</h4>
                <p class="text-slate-500">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ</p>
            </div>
        `;
    } else {
        videos.forEach(video => {
            html += `
                <div class="video-item cursor-pointer" onclick="selectVideo('${category}', '${video.id}')">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <div class="flex-1">
                                <h4 class="font-bold text-lg text-slate-800 mb-2">${video.title}</h4>
                                <p class="text-slate-600 text-sm mb-3">${video.description}</p>
                                <div class="flex items-center gap-4 text-sm text-slate-500">
                                    <span><i data-lucide="clock" class="w-4 h-4 inline mr-1"></i> ${video.duration}</span>
                                    <span><i data-lucide="file-text" class="w-4 h-4 inline mr-1"></i> ${video.quiz.length} ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</span>
                                    <span><i data-lucide="youtube" class="w-4 h-4 inline mr-1"></i> YouTube</span>
                                </div>
                            </div>
                            <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                                <i data-lucide="play" class="w-6 h-6 text-red-600"></i>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="event.stopPropagation(); selectVideo('${category}', '${video.id}')" 
                                    class="px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 transition">
                                <i data-lucide="play" class="w-4 h-4 inline mr-2"></i> ‡∏î‡∏π‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠
                            </button>
                            <button onclick="event.stopPropagation(); startQuiz('${category}', '${video.id}')" 
                                    class="px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700 transition">
                                <i data-lucide="file-text" class="w-4 h-4 inline mr-2"></i> ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
                            </button>
                        </div>
                    </div>
                </div>
            `;
        });
        
        html += '</div>';
    }
    
    container.innerHTML = html;
    
    // Hide quiz and result sections
    const quizSection = document.getElementById('quiz-section');
    const quizResult = document.getElementById('quiz-result');
    if (quizSection) quizSection.classList.add('hide');
    if (quizResult) quizResult.classList.add('hide');
    
    // Refresh icons
    setTimeout(() => {
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    }, 100);
}

// Select Video
function selectVideo(category, videoId) {
    const videos = vdoTrainingData[category];
    if (!videos) return;
    
    selectedVideo = videos.find(v => v.id === videoId);
    if (!selectedVideo) return;
    
    // Open YouTube video in new tab
    window.open(`https://www.youtube.com/watch?v=${selectedVideo.youtubeId}`, '_blank');
    
    // Show notification about auto-quiz
    showNotification(`üé¨ ‡πÄ‡∏õ‡∏¥‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ "${selectedVideo.title}" ‡πÅ‡∏•‡πâ‡∏ß`, 'success');
    showNotification('‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...', 'info');
    
    // Auto-start quiz after 5 seconds (for demo)
    setTimeout(() => {
        startQuiz(category, videoId);
    }, 5000);
}

// Start Quiz
function startQuiz(category, videoId) {
    const videos = vdoTrainingData[category];
    if (!videos) return;
    
    selectedVideo = videos.find(v => v.id === videoId);
    if (!selectedVideo) return;
    
    // Show quiz section
    const videoListContainer = document.getElementById('video-list-container');
    const quizSection = document.getElementById('quiz-section');
    const quizResult = document.getElementById('quiz-result');
    
    if (videoListContainer) videoListContainer.innerHTML = '';
    if (quizSection) quizSection.classList.remove('hide');
    if (quizResult) quizResult.classList.add('hide');
    
    // Set quiz title
    const quizTitle = document.getElementById('quiz-title');
    if (quizTitle) {
        quizTitle.innerText = `‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö: ${selectedVideo.title}`;
    }
    
    // Load quiz questions
    const quizContainer = document.getElementById('quiz-questions-container');
    if (!quizContainer) return;
    
    let html = '';
    
    selectedVideo.quiz.forEach((question, index) => {
        html += `
            <div class="quiz-question mb-6">
                <p class="font-medium text-slate-800 mb-3">${index + 1}. ${question.question}</p>
                <div class="space-y-2">
                    ${question.options.map((option, optIndex) => `
                        <div class="quiz-option" onclick="selectAnswer(${index}, ${optIndex})" id="q${index}-opt${optIndex}">
                            ${String.fromCharCode(65 + optIndex)}. ${option}
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    });
    
    quizContainer.innerHTML = html;
    quizAnswers = Array(selectedVideo.quiz.length).fill(null);
    isQuizSubmitted = false;
    
    // Refresh icons
    setTimeout(() => {
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    }, 100);
}

// Select Answer
function selectAnswer(questionIndex, optionIndex) {
    if (isQuizSubmitted) return;
    
    // Remove selected class from all options in this question
    const questionOptions = document.querySelectorAll(`[id^="q${questionIndex}-opt"]`);
    questionOptions.forEach(opt => {
        opt.classList.remove('selected');
    });
    
    // Add selected class to chosen option
    const selectedOption = document.getElementById(`q${questionIndex}-opt${optionIndex}`);
    if (selectedOption) {
        selectedOption.classList.add('selected');
    }
    
    // Store answer
    quizAnswers[questionIndex] = optionIndex;
}

// Submit Quiz
function submitQuiz() {
    // Check if all questions are answered
    if (quizAnswers.some(answer => answer === null)) {
        showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á', 'warning');
        return;
    }
    
    // Calculate score
    quizScore = 0;
    selectedVideo.quiz.forEach((question, index) => {
        const correctOption = document.getElementById(`q${index}-opt${question.correct}`);
        const userOption = document.getElementById(`q${index}-opt${quizAnswers[index]}`);
        
        if (quizAnswers[index] === question.correct) {
            quizScore++;
            
            // Mark correct answer
            if (correctOption) {
                correctOption.classList.add('correct');
            }
            
            // If user's answer was correct, mark it
            if (userOption && userOption !== correctOption) {
                userOption.classList.add('correct');
            }
        } else {
            // Mark correct answer
            if (correctOption) {
                correctOption.classList.add('correct');
            }
            
            // Mark wrong answer
            if (userOption) {
                userOption.classList.add('wrong');
            }
        }
    });
    
    isQuizSubmitted = true;
    
    // Show result
    showQuizResult();
}

// Show Quiz Result
function showQuizResult() {
    const quizSection = document.getElementById('quiz-section');
    const quizResult = document.getElementById('quiz-result');
    
    if (quizSection) quizSection.classList.add('hide');
    if (quizResult) quizResult.classList.remove('hide');
    
    const totalQuestions = selectedVideo.quiz.length;
    const percentage = Math.round((quizScore / totalQuestions) * 100);
    
    const scoreDisplay = document.getElementById('score-display');
    const resultTitle = document.getElementById('result-title');
    const resultMessage = document.getElementById('result-message');
    
    if (scoreDisplay) scoreDisplay.innerText = `${quizScore}/${totalQuestions}`;
    if (resultTitle) resultTitle.innerText = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö: ${selectedVideo.title}`;
    
    let message = '';
    let emoji = '';
    
    if (percentage >= 90) {
        message = '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! üéâ ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á';
        emoji = 'üèÜ';
    } else if (percentage >= 70) {
        message = '‡∏î‡∏µ‡∏°‡∏≤‡∏Å! üëç ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ';
        emoji = '‚≠ê';
    } else if (percentage >= 50) {
        message = '‡∏û‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ üòä ‡∏•‡∏≠‡∏á‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ô‡∏∞';
        emoji = 'üìö';
    } else {
        message = '‡∏•‡∏≠‡∏á‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á üí™ ‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏≤‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞';
        emoji = 'üîÑ';
    }
    
    if (resultMessage) {
        resultMessage.innerHTML = `
            <div class="mb-3">
                <span class="text-3xl">${emoji}</span>
                <p class="mt-2">${message}</p>
            </div>
            <p class="text-sm opacity-90">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥: ${percentage}%</p>
        `;
    }
    
    // Save quiz result to localStorage
    saveQuizResult(selectedVideo.id, quizScore, totalQuestions, percentage);
}

// Save Quiz Result
function saveQuizResult(videoId, score, total, percentage) {
    try {
        const results = JSON.parse(localStorage.getItem('vdoTrainingResults')) || {};
        results[videoId] = {
            score: score,
            total: total,
            percentage: percentage,
            date: new Date().toISOString(),
            passed: percentage >= 70
        };
        localStorage.setItem('vdoTrainingResults', JSON.stringify(results));
    } catch (e) {
        console.error('Error saving quiz result:', e);
    }
}

// Back to Video List
function backToVideoList() {
    loadVideoList(currentVideoCategory);
}

// Retake Quiz
function retakeQuiz() {
    startQuiz(currentVideoCategory, selectedVideo.id);
}

// Reset Quiz
function resetQuiz() {
    quizAnswers = [];
    quizScore = 0;
    selectedVideo = null;
    isQuizSubmitted = false;
}

// Get Quiz Statistics
function getQuizStatistics() {
    try {
        const results = JSON.parse(localStorage.getItem('vdoTrainingResults')) || {};
        const completed = Object.keys(results).length;
        const passed = Object.values(results).filter(r => r.passed).length;
        const averageScore = completed > 0 
            ? Math.round(Object.values(results).reduce((sum, r) => sum + r.percentage, 0) / completed)
            : 0;
        
        return {
            completed: completed,
            passed: passed,
            averageScore: averageScore,
            totalVideos: Object.keys(vdoTrainingData.math).length + Object.keys(vdoTrainingData.science).length
        };
    } catch (e) {
        return { completed: 0, passed: 0, averageScore: 0, totalVideos: 0 };
    }
}

// Show Notification
function showNotification(message, type = 'info') {
    const colors = {
        success: 'bg-green-100 text-green-800 border-green-200',
        error: 'bg-red-100 text-red-800 border-red-200',
        warning: 'bg-yellow-100 text-yellow-800 border-yellow-200',
        info: 'bg-blue-100 text-blue-800 border-blue-200'
    };
    
    const notification = document.createElement('div');
    notification.className = `fixed top-4 right-4 p-4 rounded-lg border ${colors[type]} z-[9999] shadow-lg max-w-sm`;
    notification.innerHTML = `
        <div class="flex items-center gap-3">
            <i data-lucide="${type === 'success' ? 'check-circle' : type === 'error' ? 'alert-circle' : 'info'}" 
               class="w-5 h-5"></i>
            <p class="text-sm font-medium">${message}</p>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    // Refresh icon
    setTimeout(() => {
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    }, 10);
    
    // Auto-remove after 5 seconds
    setTimeout(() => {
        notification.remove();
    }, 5000);
}

// Export functions for global use
window.vdoTraining = {
    init: initVdoTraining,
    show: showVdoTraining,
    close: closeVdoTraining,
    switchCategory: switchVideoCategory,
    getStatistics: getQuizStatistics
};
